<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="BurgerApp">
  <head>
    <meta charset="utf-8">
    <title>BurgerApp</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js" charset="utf-8"></script>
    <script src="/js/app.js" charset="utf-8"></script>
    <link rel="stylesheet" href="/css/app.css">
  </head>
  <body ng-controller="MainController as ctrl">
  <header>
    <h1>My Burger App</h1>
  </header>

  <!-- This will display if user in not logged in  -->
  <section ng-if="ctrl.loggedInUser === false">
      <h3>Sign Up</h3>
      <form ng-submit="ctrl.signup()">
        <input type="text" name="" value="" placeholder="username" ng-model="ctrl.signupUsername">
        <input type="password" name="" value="" ng-model="ctrl.signupPassword">
        <input type="submit" name="" value="Sign Up">
      </form>
      <h3>Log In</h3>
      <form ng-submit="ctrl.login()">
        <input type="text" name="" value="" placeholder="username">
        <input type="password" name="" value="">
        <input type="submit" name="" value="Log In">
      </form>
  </section>


  <!-- This will display if user is logged in -->
  <section ng-if="ctrl.loggedInUser !== false">
    <h2>Welcome {{ctrl.loggedInUser.username}}</h2>
    <!-- Main Burger Input Form -->
    <h2>Create a Burger</h2>
    <!-- ng-submit will call the function in app.js -->
    <form ng-submit="ctrl.createBurger()">
      <input type="text" ng-model="ctrl.name" placeholder="Burger Name">
      <input type="text" ng-model="ctrl.location" placeholder="Location">
      <input type="text" ng-model="ctrl.notes" placeholder="Notes">
      <input type="submit" name="" value="Log a Burger!">
    </form>

    <div class="burger-entry">

      <ul>
        <li ng-repeat="burger in ctrl.burgers">
          {{burger.name}} - {{burger.location}} - {{burger.notes}}

          <button ng-click="ctrl.deleteBurger(burger)">Delete Burger</button>

          <!-- This section helps you to have only one set of edit input boxes -->
          <button href="#"
          ng-if="$index !== ctrl.indexOfEditFormToShow"
          ng-click="ctrl.indexOfEditFormToShow = $index; ctrl.updatedBurger = ''; ctrl.updatedLocation = ''; ctrl.updatedNotes = ''">
          Edit this Burger
        </button>

        <form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editBurger(burger)">
          <input type="text" ng-model="ctrl.updatedBurger" placeholder="Burger Name">
          <input type="text" ng-model="ctrl.updatedLocation" placeholder="Location">
          <input type="text" ng-model="ctrl.updatedNotes" placeholder="Notes">
          <input type="submit" value="Update Burger">
        </form>
      </li>
    </ul>
  </div >

  </section>

  </body>
</html>
